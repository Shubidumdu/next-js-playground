# 클라이언트 측에서 데이터 가져오기

만약 페이지가 다음과 같은 특성을 갖는다면 클라이언트 사이드에서 데이터를 가져오는 것을 고려해볼 수 있다.

1. 페이지가 자주 업데이트되는 데이터를 포함하고 있다.
2. 페이지를 사전렌더링할 필요가 없다.

주로 아래와 같은 방식으로 동작하게 될 것이다.

1. 먼저, 데이터가 포함되지 않은 페이지를 보여준다. 이는 정적 생성을 통한 사전 렌더링 페이지로 처리할 수 있다. 이후, 가져오지 않은 데이터가 있는 부분은 loading 상태임을 표시해준다.
2. 이후, 클라이언트 사이드에서 데이터를 가져와 업데이트한다.

예를 들어, 유저 대시보드를 생성해야한다고 하자.
이러한 대시보드는 개인적이고, 유저 별로 다른 형태를 띄는 페이지이기 때문에, SEO와 관련없으며 따라서 사전렌더링될 필요가 없다. 이 데이터들은 자주 업데이트되기 때문에, 요청 시점에서 데이터를 가져오는 것이 필요하다.

## SWR

NextJS 제작 팀은 데이터를 가져오기 위해 [**SWR**](https://swr.now.sh/)이라고 하는 React hook을 만들었다. 클라이언트 사이드에서 데이터를 가져오기 위해 사용하는 것을 추천한다.

```js
import useSWR from 'swr';

function Profile() {
	const { data, error } = useSWR('/api/user', fetch);

	if (error) return <div>failed to load</div>;
	if (!data) return <div>loading...</div>;
	return <div>hello {data.name}!</div>;
}
```
